[workspace]
members = [
	"agent",
	"bunyan",
	"client",
	"common",
	"factory/aws",
	"factory/lab",
	"factory/propolis",
	"github/common",
	"github/database",
	"github/dbtool",
	"github/ghtool",
	"github/server",
	"openapi",
	"server",
	"xtask",
]

[workspace.dependencies]
anyhow = "1"
base64 = "0.13"
bytes = "1.1"
chrono = { version = "0.4", features = [ "serde" ] }
diesel = { version = "2.0.2", features = [ "sqlite", "extras", "serde_json" ] }
dirs-next = "2"
dropshot = { git = "https://github.com/oxidecomputer/dropshot" }
futures = "0.3"
futures-core = "0.3"
getopts = "0.2"
glob = "0.3"
hiercmd = { git = "https://github.com/jclulow/hiercmd" }
hmac-sha256 = "1"
html-escape = "0.2"
http = "0.2"
hyper = "0.14"
hyper-staticfile = { version = "0.8.0", git = "https://github.com/jclulow/hyper-staticfile", branch = "jclulow" }
jmclib = { git = "https://github.com/jclulow/rust-jmclib", features = ["sqlite"] }
jsonwebtoken = "7.2"
libc = "0.2.113"
new_mime_guess = "4"
nom_pem = "4"
octorust = { git = "https://github.com/oxidecomputer/third-party-api-clients", branch = "jclulow" }
percent-encoding = "2.1"
progenitor = { git = "https://github.com/oxidecomputer/progenitor", branch = "jclulow-async-pre_hook" }
#propolis-client = { git = "https://github.com/oxidecomputer/propolis.git", version = "0.1.0", features = ["generated"] }
propolis-client = { path = "/ws/propolis/lib/propolis-client", features = ["generated"] }
rand = "0.8"
reqwest = { version = "0.11", features = [ "json", "stream" ] }
rusoto_core = "0.48"
rusoto_credential = "0.48"
rusoto_ec2 = "0.48"
rusoto_s3 = "0.48"
rusty_ulid = "1"
schemars = { version = "0.8", features = [ "chrono" ] }
serde = { version = "1", features = [ "derive" ] }
serde_json = "1"
serde_repr = "0.1"
serde_urlencoded = "0.7"
serde_with = "1.10"
slog = "2.7"
slog-term = "2.7"
tempfile = "3.3"
thiserror = "1"
tokio = { version = "1", features = [ "full" ] }
tokio-util = { version = "0.6.9", features = [ "io" ] }
toml = "0.5"
uuid = { version = "1", features = [ "v4" ] }
walkdir = "2.3"
zone = { version = "0.2", features = [ "async" ], default-features = false }
